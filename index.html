<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JFT Combined Demo</title>
  <style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;   /* no page scroll */
}

body {
  display: flex;
  font-family: Arial, Helvetica, sans-serif;
  background: #f4f4f4;
}
    /* ===== LEFT SIDEBAR ===== */
.sidebar {
  width: 70px;
  background: #e6e6e6;
  border-right: 1px solid #c9c9c9;

  display: flex;
  flex-direction: column;
  height: 100vh;          /* üî• penuh layar */
}
.side-section:hover {
  background: #e0e0e0;
}
.side-section {
  width: 100%;
  flex: 1;                       /* üî• bagi tinggi rata */
  background: #efefef;

  border-top: 1px solid #d0d0d0;
  border-bottom: 1px solid #d0d0d0;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;

  padding-top: 6px;
  font-size: 12px;
  color: #444;
  cursor: pointer;
}

    .side-section.intro {
      height: 200px;
      background: #f5f5f5;
    }

    .side-label {
      font-size: 12px;
      margin-bottom: 4px;
    }

.side-track {
  width: 10px;
  flex: 1;                 /* üî• isi sisa tinggi */
  background: #dcdfe3;
  border-radius: 999px;
  position: relative;
  margin: 6px 0 10px;
}

.side-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: #6b9f34;
  border-radius: 999px;
  height: 0%;                /* ‚¨ÖÔ∏è penting */
  transition: height 0.3s ease;
}

/* ===== STEP COLUMN (FIXED SPACING) ===== */
.step-column {
  width: 80px;
  background: #f0f0f0;
  border-right: 1px solid #d0d0d0;
  display: flex;
  flex-direction: column;
  align-items: center;

  padding: 15px 0;
  gap: 12px;
  height: 100vh;
  overflow-y: auto;
}

/* default = belum dijawab */
.step {
  width: 52px;
  height: 40px;
  background: #d0d0d0;  /* abu default */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 15px;
  border-radius: 6px;
  cursor: pointer;
  flex-shrink: 0;
}

/* sudah dijawab */
.step.answered {
  background: #6aa037; /* hijau */
}

/* soal aktif */
.step.active {
  position: relative;
  background: #4f7f22; /* hijau tua */
}
    .step.active::after {
      content: "";
      position: absolute;
      right: -12px;
      top: 0;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
      border-left: 12px solid #4f7f22;
    }

    /* ===== MAIN AREA ===== */
.main {
  flex: 1;
  padding: 30px;
  overflow-y: auto;
  display: block;
  height: 100vh;
}

.screen {
  width: 100%;
  display: none;
}

.screen.active {
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.container {
  width: 900px;
  max-width: 900px;
  background: #ffffff;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  overflow: hidden;
  height: auto;
}
    .header {
      background: #1f4fa3;
      color: white;
      padding: 16px 24px;
      font-size: 20px;
      font-weight: bold;
    }

    .content { padding: 24px; }

    .question-number {
      font-size: 14px;
      color: #555;
      margin-bottom: 10px;
    }

    .question-text {
      font-size: 18px;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .question-image,
    .audio-player { margin-bottom: 20px; text-align: center; }

    .question-image img {
      max-width: 100%;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .choices { list-style: none; padding: 0; }
    .choices li { margin-bottom: 12px; }

    .choices button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #cfd8dc;
      background: #f9fbfd;
      cursor: pointer;
      text-align: left;
    }

    .choices button.selected {
      background: #dbeafe;
      border-color: #1f4fa3;
    }

    .choices button:hover {
      background: #e3f2fd;
      border-color: #1f4fa3;
    }

    .result { margin-top: 15px; font-weight: bold; }
    .correct { color: #2e7d32; }
    .wrong { color: #c62828; }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
    }

    .nav-btn {
      padding: 10px 18px;
      font-size: 14px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: #1f4fa3;
      color: white;
    }
    .step.done {
  background: #CD5C5C;   /* abu-abu = sudah dijawab */
}
/* =========================
   TABLET (‚â§1024px)
========================= */
@media (max-width: 1024px) {

  .sidebar {
    width: 56px;
  }

  .side-label {
    font-size: 10px;
    text-align: center;
  }

  .step-column {
    width: 64px;
  }

  .container {
    width: 100%;
    max-width: 100%;
  }

  .main {
    padding: 16px;
  }
}

/* =========================
   MOBILE (‚â§768px)
========================= */
@media (max-width: 768px) {

  body {
    flex-direction: column;
  }

  /* ===== SIDEBAR jadi horizontal ===== */
  .sidebar {
    flex-direction: row;
    width: 100%;
    height: 70px;
    border-right: none;
    border-bottom: 1px solid #c9c9c9;
  }

  .side-section {
    flex: 1;
    padding-top: 4px;
    justify-content: center;
  }

  .side-track {
    width: 6px;
    margin: 4px 0;
  }

  /* ===== STEP COLUMN horizontal ===== */
  .step-column {
    width: 100%;
    height: 60px;
    flex-direction: row;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 8px;
    gap: 8px;
  }

  .step {
    width: 42px;
    height: 36px;
    font-size: 13px;
  }

  .step.active::after {
    display: none; /* panah dimatikan di mobile */
  }

  /* ===== MAIN ===== */
  .main {
    flex: 1;
    padding: 10px;
    overflow: hidden;
  }

  .container {
    width: 100%;
    max-width: 100%;
    border-radius: 8px;
  }

  .question-text {
    font-size: 16px;
  }

  .choices button {
    font-size: 14px;
    padding: 10px;
  }
}
.choices button.selected {
  background: #6aa037;
  color: white;
  border-color: #4f7f22;
}
.choices button {
  transition: all 0.2s ease;
}
  </style>
</head>
<body>

  <!-- SIDEBAR -->
<div class="sidebar">

<div class="side-section" onclick="goToSection('gra')">
  <div class="side-label">Grammar</div>
  <div class="side-track">
    <div class="side-fill" id="graProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('scri')">
  <div class="side-label">Script and Vocabulary</div>
  <div class="side-track">
    <div class="side-fill" id="scriProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('co')">
  <div class="side-label">Conversation</div>
  <div class="side-track">
    <div class="side-fill" id="coProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('list')">
  <div class="side-label">Listening</div>
  <div class="side-track">
    <div class="side-fill" id="listProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('rea')">
  <div class="side-label">Reading</div>
  <div class="side-track">
    <div class="side-fill" id="reaProgress"></div>
  </div>
</div>

</div>

  <!-- STEP COLUMN -->
<div class="step-column" id="stepColumn"></div>

  <!-- MAIN -->
  <div class="main">

    <div id="intro" class="screen">
      <div class="question-box">
      </div>
    </div>

    <div id="quiz" class="screen active">
      <div class="container">
        <div class="header">Latihan soal</div>
        <div class="content">
          <div class="question-number" id="qNumber"></div>
          <div class="audio-player" id="audioContainer"></div>
          <div class="question-image" id="imageContainer"></div>
          <div class="question-text" id="questionText"></div>
          <ul class="choices" id="choices"></ul>
          <div class="result" id="result"></div>
          <div class="navigation">
            <button class="nav-btn" onclick="prevQuestion()">‚óÄ Previous</button>
            <button class="nav-btn" onclick="nextQuestion()">Next ‚ñ∂</button>
          </div>
        </div>
      </div>
    </div>

  </div>

<script>
const sections = {
    gra: [
  {
    text: "Âøô„Åó„ÅÑ„ÅÆ„ÅßÊâã‰ºù„Åà„Åæ„Åõ„Çì„ÄÇ",
    choices: ["„ÅÑ„Åù„Åå„Åó„ÅÑ", "„Åü„ÅÆ„Åó„ÅÑ", "„ÇÄ„Åö„Åã„Åó„ÅÑ"],
    correct: 2
  },
  {
    text: "„ÅÇ„Åæ„ÅÑ„ÇÇ„ÅÆ„ÅØ Ëã¶Êâã  „Åß„Åô„ÄÇ",
    choices: ["„Åò„ÇÅ„Åò„ÇÅ", "„Åä„Åä„ÅÑ", "„Å´„Åå„Å¶"],
    correct: 2
  }
  ,{
    text: "Êò®Êó•„ÅØÈõ®„ÅåÈôç„Çã„ÅÆ„Åß„ÅÇ„Åæ„Çä_______",
    choices: ["„Åä„ÇÇ„Åó„Çç„Åè„Å™„Åã„Å£„Åü", "„Åä„ÇÇ„Åó„Åæ„Åó„Åü", "„Åä„ÇÇ„Åó„Çç„ÅÑ"],
    correct: 2
  },
  {
    text: "‰ªä„ÅØÂõ≥Êõ∏È§®„Å´„ÅÑ„Åæ„Åô„ÄÇ",
    choices: ["„ÅØ„Åè„Å∂„Å§„Åã„Çì", "„ÇÜ„Å≥„Çì„Åç„Çá„ÅÜ„Åè", "„Å®„Åó„Çá„Åã„Çì"],
    correct: 2
  },
  {
    text: "„ÅÇ„Åù„ÅÑ„Å†„ÅÇ„Å®„Åß, „Ç∑„É£„ÉØ„Éº„Çí________„ÄÇ",
    choices: ["Êµ¥„Å≥„Åæ„Åô", "‰πó„Çä„Åæ„Åô", "Ë°å„Åç„Åæ„Åô"],
    correct: 2
  },
  {
    text: "ÊòéÊó•„ÅØ„ÅÑ„ÅÑÂ§©Ê∞ó„Åß„Åó„Çá„ÅÜ„ÄÇ",
    choices: ["„Å¶„Çì„Åé", "„Å¶„Çì„Åç", "„Åß„Çì„Åé"],
    correct: 2
  }
  ,{
    text: "________„Åã„Çå„ÅÆ„Åï„ÅÑ„Åµ„ÅØÊ≠©„ÅÑ„Å¶„ÅÑ„Çã„Å®„Åç„Å´Âèñ„Çâ„Çå„Åü„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ",
    choices: ["„ÇÇ„Åó„Åã„Åó„Åü„Çâ", "„Åã„Å™„Çâ„Åö", "„Åß„Åç„Çå„Å∞"],
    correct: 2
  },
  {
    text: "„Åç„Å£„Å®______„Åì„Å®„Åå„Åß„Åç„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ",
    choices: ["„ÉÜ„Éº„Éñ„É´", "„Åø„Å§„Åë„Çã", "Èñì„Å´Âêà„Çè„Åõ„Çã"],
    correct: 2
  },
  {
    text: "ÊòéÊó•„ÅØÊò†Áîª„Çí„Åø„Å´„Åç„Åæ„Åõ„Çì„Åã",
    choices: ["„Åà„ÅÑ„Åå", "„Åå„Å£„Åã", "„Åà„ÅÑ„Åî"],
    correct: 2
  },
  {
    text: "ÈÅã„Çì„Åß",
    choices: ["„ÅØ„Å≤„Åµ", "„Çà„Åã„Å£„Åü", "„ÅØ„Åì„Çì„Åß"],
    correct: 2
  }
],
scri: [
  {
    text: "A: „ÅÇ„Å™„Åü„ÅÆ„Åó„ÇÖ„Åø„ÅØ„Å™„Çì„Åß„Åô„Åã B: „Åª„Çì„Çí„Çà„ÇÄ„Åì„Å®„Åß„Åô A: „Å©„Çì„Å™Êú¨„Åß„Åô„Åã B: ______Ê≠¥Âè≤„ÅÆÊú¨„Åß„Åô",
    choices: ["„Å®„Åè„Å´", "„Åü„Åó„Åã„Å´", "„Åù„ÅÆ„Åæ„Åæ„Å´"],
    correct: 0
  },
  {
    text: "‰∫àÂÆö„ÅÑ„ÅÆ„Åª„Åã„ÅÆ„Å≤„Å®„Åå_________",
    choices: ["„Åä„Åó„Çâ„Åõ„Çã„Åü„ÇÅ„Å´", "„Åä„Åó„Çâ„Åõ", "„Åä„Åó„Çå„Å∞"],
    correct: 1
  },
  {
    text: "„Åì„Çå„ÅØ„Éê„Éä„Éä„ÅÆ________, „Å©„ÅÜ„Åû„ÄÇ",
    choices: ["„Çä„Çá„ÅÜ„Çä„Åß„Åó„Åü", "„Çä„Çá„ÅÜ„Çä„Åß„Åô", "„Çä„Çá„ÅÜ„Çä„Åæ„Åô"],
    correct: 0
  },
  {
    text: "AÔºö„ÇÅ„Çä„Åï„Çì„ÄÅ„ÅÑ„Åπ„Çì„Å®„ÅÆ„Çà„Å¶„ÅÑ„Åå„Åã„Çè„Å£„Åü„Åì„Å®„Çí„Åó„Å£„Å¶„ÅÑ„Åæ„Åô„ÅãÔºüBÔºö„Å∏„Åà„ÄÅ„Åã„Çè„Å£„Åü„Çì„Åß„Åô„ÅãÔºü„Éº„Éº„Åó„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇAÔºö„Åò„ÇÉ„ÅÇ„ÄÅ„Çà„Å¶„ÅÑ„ÅÆ„Åª„Åã„ÅÆ„Å≤„Å®„Å´„ÄÇ„ÄÇ„ÄÇ„Åü„ÇÅ„Å´„ÄÇ„Åì„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí„Å§„Åü„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇBÔºö„ÅØ„ÅÑ„ÄÅ„Çè„Åã„Çä„Åæ„Åó„Åü„ÄÇ",
    choices: ["„Åä„Åõ„Çè„Å´„Å™„Çã", "„Åä„Åó„Çâ„Åõ„Çã", "„Åä„Åè„Çã"],
    correct: 1
  },
  {
    text: "A: „Åô„Åø„Åæ„Åõ„Çì, „Åì„Åì„ÅØ_________ ?? B: Êù±‰∫¨„Åß„Åô",
    choices: ["„ÅÑ„Å§„Åß„Åô„Åã", "„Å™„Çì„Åß„Åô„Åã", "„Å©„Åì„Åß„Åô„Åã"],
    correct: 0
  },
  {
    text: "„Ç¢„Éã„Åï„Çì„ÅØ____________?, „Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô",
    choices: ["„Åë„Å£„Åì„Çì", "„Åë„Å£„Åì„Çì„Åô„Çã„Çà„ÅÜ„Å´", "„Åë„Å£„Åì„Çì„Åó„Åü„Åù„ÅÜ„Åß„Åô"],
    correct: 0
  },
  {
    text: "A: „Åä„Åç„ÇÉ„Åè„Åï„Åæ„ÅØ„Å©„Çì„Å™„Åï„ÅÑ„Åæ„Åô„Åã B: „Ç∏„É•„Éº„Çπ________???",
    choices: ["„Åó„Å¶„ÇÇ„Çâ„Åà„Åæ„Åõ„Çì„Åã", "„Åó„Å¶„ÅÑ„Åæ„Åô", "„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô"],
    correct: 1
  },
  {
    text: "A: „ÅÑ„Å§„ÅÑ„Åó„Çá„Å´„Çµ„ÉÉ„Ç´„Éº„Çí„Åó„Åæ„Åô„Åã B: „Åì„Çå„Åã„Çâ________???",
    choices: ["„Å©„ÅÜ„Åó„Åæ„Åô„Åã", "„Å©„ÅÜ„Åó„Åü„Çì„Åß„Åô„Åã", "„Å©„ÅÜ„Åß„Åô„Åã"],
    correct: 0
  },
  {
    text: "Êò®Êó•„ÅÆ„Ç§„Éô„É≥„Éà„ÅØ„ÅÇ„Åæ„Çä„ÄÇ",
    choices: ["„Åä„ÇÇ„Åó„Çç„Åè„Å™„Åã„Å£„Åü", "„Åä„ÇÇ„Åó„Çç„ÅÑ„Å™„ÅÑ", "„Åä„ÇÇ„Åó„Çç„ÅÑ"],
    correct: 1
  },
  {
    text: "‰ªï‰∫ã „Çí „ÄÇ„ÄÇ„ÄÇ„ÄÇ",
    choices: ["„ÇÑ„Åô„Çì„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„Åã?", "„Å©„Åì„Åß„Åô„Åã", "„ÇÑ„Åô„Åø"],
    correct: 0
  }
],

  co: [
    {
  text: "„Åì„Çå„ÅØ „Å†„Çå „Åß„Åô„Åã„ÄÇ",
  image: "img/boy.png",
  audio: "audio/boy.mp3",
  choices: ["„Åä„Å®„Åì", "„Åä„Çì„Å™", "„Åì„Å©„ÇÇ", "„Åõ„Çì„Åõ„ÅÑ"],
  correct: 2
},
    {
      text: "„Åì„Çå„ÅØ „Çè„Åü„Åó„ÅÆ ______ „Åß„Åô„ÄÇ",
      choices: ["„Åª„Çì", "„Åï„Åã„Å™", "„Åè„Çã„Åæ", "„Åø„Åö"],
      correct: 0
    }
  ],

  list: [
    {
  text: "Audio „Çí ËÅû„ÅÑ„Å¶ „Åà„Çâ„Çì„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ",
  audio: "audio/q1.mp3",
  choices: ["„Å≠„Åì", "„ÅÑ„Å¨", "„Å®„Çä", "„Åï„Åã„Å™"],
  correct: 1
},
    {
      text: "„Åì„Çå„ÅØ „Å™„Çì ______ „Åã„ÄÇ",
      choices: ["„Åß„Åô", "„Åæ„Åô", "„Åó„Åü", "„Å™„ÅÑ"],
      correct: 0
    }
  ],

  rea: [
    {
  text: "„Åì„Çå„ÅØ „Å™„Çì „Åß„Åô„Åã„ÄÇ",
  image: "img/apple.jpg",
  choices: ["„Çä„Çì„Åî", "„Åø„Åã„Çì", "„Å∞„Å™„Å™", "„Å∂„Å©„ÅÜ"],
  correct: 0
},
    {
      text: "„Åì„Çì„Å∞„Çì ______„ÄÇ",
      choices: ["„ÅØ", "„Çí", "„Å´", "„Åß"],
      correct: 0
    }
  ]
};

let currentSection = "scri";
let currentQuestion = 0;

const answered = {
  scri: [],
  co: [],
  list: [],
  rea: [],
  gra: []
};

function goToSection(sectionKey) {
  if (currentSection === sectionKey) return; // ‚õî stop

  currentSection = sectionKey;
  currentQuestion = 0;

  if (!answered[sectionKey].length) {
    answered[sectionKey] =
      new Array(sections[sectionKey].length).fill(null);
  }

  document.getElementById("intro").classList.remove("active");
  document.getElementById("quiz").classList.add("active");

  loadQuestion();
  renderSteps();
  updateSideProgress();
}

  // üëâ pindah soal berdasarkan nomor step
function goToQuestion(index) {
  currentQuestion = index;

  document.getElementById("intro").classList.remove("active");
  document.getElementById("quiz").classList.add("active");

  loadQuestion();
  renderSteps();
}

function loadQuestion() {
  const q = sections[currentSection][currentQuestion];

  document.getElementById("qNumber").textContent =
    `Question ${currentQuestion + 1} / ${sections[currentSection].length}`;

  document.getElementById("questionText").textContent = q.text;

  // ===== IMAGE =====
  const imageBox = document.getElementById("imageContainer");
  imageBox.innerHTML = "";

  if (q.image) {
    const img = document.createElement("img");
    img.src = q.image;
    imageBox.appendChild(img);
  }

  // ===== AUDIO =====
  const audioBox = document.getElementById("audioContainer");
  audioBox.innerHTML = "";

  if (q.audio) {
    const audio = document.createElement("audio");
    audio.controls = true;
    audio.src = q.audio;
    audioBox.appendChild(audio);
  }

  // ===== CHOICES =====
  const choicesEl = document.getElementById("choices");
  choicesEl.innerHTML = "";

  q.choices.forEach((choice, i) => {
    const btn = document.createElement("button");
    btn.textContent = choice;
    btn.onclick = () => checkAnswer(i);
    choicesEl.appendChild(btn);
  });
const saved = answered[currentSection][currentQuestion];
if (saved !== null) {
  const buttons = document.querySelectorAll("#choices button");
  buttons[saved].classList.add("selected");
}
  document.getElementById("result").textContent = "";
}

function checkAnswer(choice) {

  // simpan index pilihan
  answered[currentSection][currentQuestion] = choice;

  const buttons = document.querySelectorAll("#choices button");
  buttons.forEach(btn => btn.classList.remove("selected"));

  buttons[choice].classList.add("selected");

  updateSideProgress();
  renderSteps();
}

  loadQuestion();

function updateActiveStep() {
  const stepColumn = document.getElementById("stepColumn");
  const steps = stepColumn.querySelectorAll(".step");

  steps.forEach(step => step.classList.remove("active"));

  if (steps[currentQuestion]) {
    steps[currentQuestion].classList.add("active");

    // scroll HANYA di stepColumn
    stepColumn.scrollTop =
      steps[currentQuestion].offsetTop -
      stepColumn.clientHeight / 2 +
      steps[currentQuestion].clientHeight / 2;
  }
}

function nextQuestion() {
  if (currentQuestion < sections[currentSection].length - 1) {
    currentQuestion++;
    loadQuestion();
    renderSteps();
  }
}

function prevQuestion() {
  if (currentQuestion > 0) {
    currentQuestion--;
    loadQuestion();
    renderSteps();
  }
}

function goToIntro() {
  document.getElementById("intro").classList.add("active");
  document.getElementById("quiz").classList.remove("active");

  // matikan highlight step
  document.querySelectorAll(".step")
    .forEach(s => s.classList.remove("active"));
}

function updateSideProgress() {
  const total = answered[currentSection].length;

  const done = answered[currentSection]
    .filter(v => v !== null).length;

  const percent = (done / total) * 100;

  document.getElementById(currentSection + "Progress").style.height =
    percent + "%";
}

function renderSteps() {
  const stepColumn = document.getElementById("stepColumn");
  stepColumn.innerHTML = "";

  sections[currentSection].forEach((_, index) => {
    const step = document.createElement("div");
    step.className = "step";
    step.textContent = index + 1;

    if (answered[currentSection][index] !== null) {
  step.classList.add("answered");
}

    if (index === currentQuestion) {
      step.classList.add("active");
    }

    step.onclick = () => goToQuestion(index);

    stepColumn.appendChild(step);
  });
}
goToSection("scri");


</script>


</body>
</html>
