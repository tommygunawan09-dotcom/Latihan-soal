<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JFT Combined Demo</title>
  <style>
html, body {
  height: 100%;
  min-height: 100dvh;
}

body {
  display: flex;
  font-family: Arial, Helvetica, sans-serif;
  background: #f4f4f4;
}
    /* ===== LEFT SIDEBAR ===== */
.sidebar {
  width: 70px;
  background: #e6e6e6;
  border-right: 1px solid #c9c9c9;

  display: flex;
  flex-direction: column;
  height: 100vh;
}
.side-section:hover {
  background: #e0e0e0;
}
.side-section {
  width: 100%;
  flex: 1;                       /* üî• bagi tinggi rata */
  background: #efefef;

  border-top: 1px solid #d0d0d0;
  border-bottom: 1px solid #d0d0d0;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;

  padding-top: 6px;
  font-size: 12px;
  color: #444;
  cursor: pointer;
}
    .side-label {
      font-size: 12px;
      margin-bottom: 4px;
    }

.side-track {
  width: 10px;
  flex: 1;                 /* üî• isi sisa tinggi */
  background: #dcdfe3;
  border-radius: 999px;
  position: relative;
  margin: 6px 0 10px;
}

.side-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: #6b9f34;
  border-radius: 999px;
  height: 0%;                /* ‚¨ÖÔ∏è penting */
  transition: height 0.3s ease;
}

/* ===== STEP COLUMN (FIXED SPACING) ===== */
.step-column {
  width: 80px;
  background: #f0f0f0;
  border-right: 1px solid #d0d0d0;
  display: flex;
  flex-direction: column;
  align-items: center;

  padding: 15px 0;
  gap: 12px;
  height: 100vh;
  overflow-y: auto;
}

/* default = belum dijawab */
.step {
  width: 52px;
  height: 40px;
  background: #d0d0d0;  /* abu default */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 15px;
  border-radius: 6px;
  cursor: pointer;
  flex-shrink: 0;
}

/* sudah dijawab */
.step.answered {
  background: #6aa037; /* hijau */
}

/* soal aktif */
.step.active {
  position: relative;
  background: #4f7f22; /* hijau tua */
}
    .step.active::after {
      content: "";
      position: absolute;
      right: -12px;
      top: 0;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
      border-left: 12px solid #4f7f22;
    }

    /* ===== MAIN AREA ===== */
.main {
  flex: 1;
  padding: 30px;
  overflow-y: auto;
  display: block;
  min-height: 100dvh;
}

.screen {
  display: none;
  width: 100%;
}

.screen.active {
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.container {
  width: 900px;
  max-width: 900px;
  background: #ffffff;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  overflow: hidden;
  height: auto;
}
    .header {
      background: #1f4fa3;
      color: white;
      padding: 16px 24px;
      font-size: 20px;
      font-weight: bold;
    }
.exam-header {
  background: linear-gradient(135deg, #1f4fa3, #163c82);
  color: white;
  padding: 14px 20px;
  display: flex;
  flex-direction: column;
  gap: 4px;

  position: relative; /* ‚¨ÖÔ∏è tambahan */
}
.exam-timer {
  position: absolute;
  top: 14px;
  right: 20px;

  background: rgba(255,255,255,0.15);
  padding: 6px 12px;
  border-radius: 8px;

  font-weight: bold;
  font-size: 16px;
  letter-spacing: 1px;
}

.exam-title {
  font-size: 18px;
  font-weight: bold;
}

.exam-sub {
  font-size: 13px;
  opacity: 0.9;
  display: flex;
  align-items: center;
  gap: 6px;
}

.exam-sub .dot {
  font-size: 10px;
  opacity: 0.6;
}

    .content { padding: 24px; }

    .question-number {
      font-size: 14px;
      color: #555;
      margin-bottom: 10px;
    }

    .question-text {
      font-size: 18px;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .question-image,
    .audio-player { margin-bottom: 20px; text-align: center; }

/* WRAPPER */
.question-image {
  width: 100%;
  max-height: 220px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 12px 0 16px;
}

/* IMG DI DALAMNYA */
.question-image img {
  max-width: 100%;
  max-height: 220px;
  object-fit: contain;
}
    .choices { list-style: none; padding: 0; }
    .choices li { margin-bottom: 12px; }

    .choices button:hover {
      background: #e3f2fd;
      border-color: #1f4fa3;
    }

    .result { margin-top: 15px; font-weight: bold; }
    .correct { color: #2e7d32; }
    .wrong { color: #c62828; }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
    }

    .nav-btn {
      padding: 10px 18px;
      font-size: 14px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: #1f4fa3;
      color: white;
    }
    .step.done {
  background: #CD5C5C;   /* abu-abu = sudah dijawab */
}
/* =========================
   TABLET (‚â§1024px)
========================= */
@media (max-width: 1024px) {

  .sidebar {
    width: 56px;
  }

  .side-label {
    font-size: 10px;
    text-align: center;
  }

  .step-column {
    width: 64px;
  }

  .container {
    width: 100%;
    max-width: 100%;
  }

  .main {
    padding: 16px;
  }
}

/* =========================
   MOBILE (‚â§768px)
========================= */
.choices button.selected {
  background: #6aa037;
  color: white;
  border-color: #4f7f22;
}
.choices button {
  transition: all 0.2s ease;
}
#resultScreen {
  padding: 30px;
  overflow-y: auto;
}

.certificate {
  width: 900px;
  max-width: 100%;
  background: #fff;
  margin: auto;
  padding: 30px;
  border-radius: 10px;
}

.bar-container {
  position: relative;
  height: 16px;
  background: linear-gradient(to right, orange, yellowgreen, green);
  border-radius: 10px;
}

.marker {
  position: absolute;
  top: -6px;
  width: 16px;
  height: 16px;
  background: white;
  border: 3px solid orange;
  border-radius: 50%;
  transform: translateX(-50%);
}

.percent-bar {
  margin-top: 5px;
  height: 14px;
  background: #eee;
  border-radius: 10px;
}

.percent-fill {
  height: 100%;
  border-radius: 10px;
  background: linear-gradient(to right, orange, yellowgreen);
}

/* =========================
   DEFAULT TEXT CHOICES
========================= */
.choice {
  padding: 14px 16px;
  border-radius: 10px;
  font-size: 18px;
  line-height: 1.4;
  min-height: 56px;

  display: flex;
  align-items: center;
}

.choices button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #cfd8dc;
  background: #f9fbfd;
  cursor: pointer;
  text-align: left;
}

/* =========================
   GRID PILIHAN GAMBAR (FIX)
========================= */

.choices.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
}

/* tombol jawaban */
.choices.image-grid button {
  height: 140px;                 /* tinggi kotak */
  padding: 6px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* kotak gambar */
.choice-img-box {
  flex: 1;
  width: 100%;
  background: #f3f3f3;
  border-radius: 6px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* gambar */
.choice-img-box img {
  width: 100%;
  height: 100%;
  object-fit: contain;          /* üî• TIDAK KEPOTONG */
}

/* label A B C D */
.choice-label {
  font-size: 12px;
  text-align: center;
  margin-top: 4px;
}

/* =========================
   üî• RESULT MODE ‚Äì FINAL OVERRIDE
========================= */

/* SEMBUNYIKAN TOTAL */
body.result-mode .sidebar,
body.result-mode .step-column {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  overflow: hidden !important;
}

/* BODY & MAIN FULLSCREEN */
body.result-mode {
  display: block !important;
}

body.result-mode .main {
  margin: 0 !important;
  padding: 0 !important;
  height: 100vh !important;
  width: 100vw !important;
  overflow: auto !important;
}

/* RESULT SCREEN FULL CENTER */
body.result-mode #resultScreen {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 100vh !important;
  width: 100vw !important;
  padding: 12px !important;
  background: #f4f4f4;
}

/* SERTIFIKAT */
body.result-mode .certificate {
  margin: 0 auto !important;
  max-width: 900px;
}
/* =========================
   üîí RESULT MODE ‚Äì NO SCROLL (FINAL)
========================= */

/* MATIKAN SCROLL GLOBAL */
body.result-mode,
body.result-mode html {
  overflow: hidden !important;
  height: 100vh !important;
}

/* RESULT SCREEN FULL LAYAR */
body.result-mode #resultScreen {
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* SERTIFIKAT DIPAKSA PAS LAYAR */
body.result-mode .certificate {
  height: 100%;
  max-height: 100vh;
  width: 100%;
  max-width: 900px;

  display: flex;
  flex-direction: column;
  overflow: hidden !important;
}
/* =========================
   üîí AUDIO NO SEEK
========================= */
audio::-webkit-media-controls-timeline {
  pointer-events: none;
}

audio::-webkit-media-controls-seek-back-button,
audio::-webkit-media-controls-seek-forward-button {
  display: none;
}
/* =================================================
   üì± MOBILE GLOBAL (‚â§768px) ‚Äî SINGLE SOURCE SAFE
================================================= */
@media (max-width: 768px) {

  body {
    flex-direction: column;
  }

  /* ===== MAIN ===== */
  .main {
    margin-top: 56px;
    padding: 12px;
  }

  /* ===== CONTAINER ===== */
  .container {
    width: 100%;
    max-width: 900px;
    overflow: hidden;
  }

/* LOCK BODY SAAT CERTIFICATE MUNCUL */
body.certificate-mode {
  overflow: hidden;
  height: 100dvh;
}

/* CONTAINER CERTIFICATE */
#certificate {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100svh; /* gunakan dynamic vh */
  background: white;
  display: none;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  touch-action: none;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* aktif */
#certificate.active {
  display: block;
}

/* isi certificate */
.certificate-content {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
}


  /* ===== HEADER TEXT ===== */
  .header h1 { font-size: 18px; }
  .header h2 { font-size: 14px; }

  /* ===== PROFILE ===== */
  .profile-section {
    display: flex;
    gap: 20px;
    margin: 20px 0;
    align-items: center;
  }

  .profile-section img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
  }

  /* ===== SIDEBAR ‚Üí TOP BAR ===== */
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;

    width: 100vw;
    max-width: 100vw;
    margin: 0;
    padding: 0;

    height: 56px;
    z-index: 1200;

    display: flex;
    flex-direction: row;
    justify-content: space-around;
    align-items: stretch;

    background: #ffffff;
    border-bottom: 1px solid #d0d0d0;
  }

  .side-section {
    flex: 1;
    padding: 6px 4px;
    background: transparent;
    border: none;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    position: relative;
  }

  .side-label {
    font-size: 10px;
    font-weight: 600;
    color: #333;
    line-height: 1.1;
    white-space: nowrap;
  }

  .side-track {
    width: 70%;
    height: 4px;
    margin-top: 4px;
    background: #e0e0e0;
    border-radius: 999px;
    overflow: hidden;
  }

  .side-fill {
    height: 100%;
    width: 0%;
    background: #4f7f22;
    transition: width 0.3s ease;
  }

  /* ===== STEP BAR ‚Üí BOTTOM ===== */
  .step-column {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;

    height: 56px;
    width: 100%;

    flex-direction: row;
    align-items: center;

    padding: 6px 8px;
    gap: 8px;

    background: #f0f0f0;
    border-top: 1px solid #ccc;

    overflow-x: auto;
    overflow-y: hidden;

    z-index: 1000;
  }

  .step {
    width: 40px;
    height: 40px;
    font-size: 14px;
    flex-shrink: 0;
  }

  .step.active::after {
    display: none;
  }

  /* ===== QUESTION IMAGE ===== */
  .question-image {
    max-height: 160px;
    min-height: 160px;
    margin: 8px 0 12px;
  }

  .question-image img {
    max-height: 160px;
    width: auto;
    max-width: 100%;
    object-fit: contain;
  }

  /* TEXT ONLY QUESTION */
  .no-image-question .question-image {
    display: none;
    margin: 0;
    padding: 0;
    height: 0;
    min-height: 0;
  }

  .no-image-question .audio-player:empty {
    display: none;
    margin: 0;
  }

  .no-image-question .question-text {
    margin-top: 0;
  }

  /* ===== IMAGE CHOICES ===== */
  .choices.image-grid button {
    height: 110px;
  }
}
/* ===============================
   PRE-START MODE (HIDE QUIZ UI)
================================= */

body.pre-start .sidebar,
body.pre-start .step-column {
  display: none !important;
}

/* üî• HILANGKAN SPACE KIRI */
body.pre-start .main {
  margin-left: 0 !important;
  width: 100% !important;
}

/* kalau .container pakai flex */
body.pre-start .container {
  display: block !important;
}
  </style>
</head>
<body class="pre-start">

  <!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
<div class="side-section" onclick="goToSection('gra')">
  <div class="side-label">Grammar</div>
  <div class="side-track">
    <div class="side-fill" id="graProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('scri')">
  <div class="side-label">Script an...</div>
  <div class="side-track">
    <div class="side-fill" id="scriProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('co')">
  <div class="side-label">Conversation</div>
  <div class="side-track">
    <div class="side-fill" id="coProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('list')">
  <div class="side-label">Listening</div>
  <div class="side-track">
    <div class="side-fill" id="listProgress"></div>
  </div>
</div>

<div class="side-section" onclick="goToSection('rea')">
  <div class="side-label">Reading</div>
  <div class="side-track">
    <div class="side-fill" id="reaProgress"></div>
  </div>
</div>

</div>

  <!-- STEP COLUMN -->
<div class="step-column" id="stepColumn"></div>

  <!-- MAIN -->
   <div id="resultScreen" class="screen">
  <div class="certificate">

    <div class="header">
      <h1>Sertifikat rumah</h1>
      <h2>wkwkw</h2>
    </div>

    <div class="profile-section">
      <div class="photo">
        <img src="https://i.pinimg.com/736x/cb/9d/59/cb9d591f82200dabe76083716913c221.jpg" alt="Profile">
      </div>
      <div class="info">
        <p><strong>Name:</strong> Asep pacul</p>
        <p><strong>Negara:</strong> Wakanda</p>
      </div>
    </div>
    <div class="score-section">
      <div class="score-title" id="totalScoreText"></div>
      <div class="bar-container">
        <div class="marker" id="scoreMarker"></div>
      </div>
      <div class="bar-labels">
        <span>0</span>
        <span>200 (Minimal bos)</span>
        <span>250</span>
      </div>
    </div>
    <div class="section-scores" id="sectionScores"></div>
  </div>
</div>
  <div class="main">
    <div id="menu" class="screen active">
  <div class="menu-container">
    <h2>PILIH PAKET LATIHAN SOAL</h2>
    <h1>JFT Basic</h1>

    <div class="paket-grid">
      <button onclick="selectPackage('gra')">üìÅ PAKET TOIRE</button>
      <button onclick="selectPackage('basu')">üìÅ PAKET BASU</button>
      <button onclick="selectPackage('rea')">üìÅ PAKET KUROI</button>
      <!-- Tambah sesuai kebutuhan -->
    </div>
  </div>
</div>
    <div id="intro" class="screen">
      <div class="question-box">
      </div>
    </div>
<div id="quiz" class="screen">
      <div class="container">
<div class="header exam-header"><div class="exam-timer" id="timer">30:00</div>
  <div class="exam-title">Latihan Soal</div>
  <div class="exam-sub">
    <span id="examSection">Grammar</span>
    <span class="dot">‚Ä¢</span>
    <span id="examProgress">Question 1 / 13</span>
  </div>
</div>
        <div class="content">
          <div class="question-number" id="qNumber"></div>
          <div class="audio-player" id="audioContainer"></div>
          <div class="question-image" id="imageContainer"></div>
          <div class="question-text" id="questionText"></div>
          <ul class="choices" id="choices"></ul>
          <div class="result" id="result"></div>
          <div class="navigation">
            <button class="nav-btn" onclick="prevQuestion()">‚óÄ Previous</button>
            <button class="nav-btn" onclick="nextQuestion()">Next ‚ñ∂</button>
          </div>
        </div>
      </div>
    </div>

  </div>

<script>
// =====================
// 1Ô∏è‚É£ HELPER FUNCTIONS
// =====================
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function shuffleChoices(question) {

  // üî• JIKA bukan kanji/hiragana, JANGAN DIAPA-APAIN
  if (
    !question.choices ||
    typeof question.choices[0] === "string" ||
    !question.choices[0][ACTIVE_SCRIPT]
  ) {
    return;
  }

  const combined = question.choices.map((choice, index) => ({
    text: choice[ACTIVE_SCRIPT],
    isCorrect: index === question.correct
  }));

  for (let i = combined.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [combined[i], combined[j]] = [combined[j], combined[i]];
  }

  question.choices = combined.map(item => item.text);
  question.correct = combined.findIndex(item => item.isCorrect);
}

</script>

<script>
const SCRIPTS = ["kanji", "hiragana"];
const ACTIVE_SCRIPT = SCRIPTS[Math.floor(Math.random() * SCRIPTS.length)];
const MAX_AUDIO_PLAY = 2;
const audioPlaysPerQuestion = {}; // üî• kunci per soal
let audioLocked = false;
function renderQuestionText(q) {
  // üî• kalau tidak ada text, kembalikan string kosong
  if (!q.text) return "";

  if (!q.target) return q.text;

  const oppositeScript =
    ACTIVE_SCRIPT === "kanji" ? "hiragana" : "kanji";

  return q.text.replace(
    "{target}",
    q.target[oppositeScript]
  );
}
const sections = {
    gra: [
{
  image: "https://i.pinimg.com/736x/36/59/f5/3659f5fba5f3b9dae5b9f49ecdc30cbb.jpg",        // ‚¨ÖÔ∏è gambar
  choices: [
    { kanji: "ÈÅãËª¢Ëªä", hiragana: "„ÅÜ„Çì„Å¶„Çì„Åó„ÇÉ" },
    { kanji: "Ëá™Ëª¢Ëªä", hiragana: "„Åò„Å¶„Çì„Åó„ÇÉ"},
    { kanji: "Ëá™ÂãïË≤©Â£≤Ê©ü", hiragana: "„Åò„Å©„ÅÜ„ÅØ„Çì„Å∞„ÅÑ„Åç" }
  ],
  correct: 1
}
,
{
  text: "({target})„ÅÆ„ÅßÊâã‰ºù„Åà„Åæ„Åõ„Çì„ÄÇ",
  target: { kanji: "Âøô„Åó„ÅÑ", hiragana: "„ÅÑ„Åù„Åå„Åó„ÅÑ" },
  choices: [
      { kanji: "Âøô„Åó„ÅÑ", hiragana: "„ÅÑ„Åù„Åå„Åó„ÅÑ" },
      { kanji: "Ê•Ω„Åó„ÅÑ", hiragana: "„Åü„ÅÆ„Åó„ÅÑ" },
      { kanji: "Èõ£„Åó„ÅÑ", hiragana: "„ÇÄ„Åö„Åã„Åó„ÅÑ" }
    ],
  correct: 0
}
  ,{
  image: "https://i.pinimg.com/1200x/ba/41/8f/ba418ff564e83b0260d9c61112839731.jpg",        // ‚¨ÖÔ∏è gambar
    choices: [
      { kanji: "‰πó„Åõ„Çã", hiragana: "„ÅÆ„Åõ„Çã" },
      { kanji: "‰ªò„Åë„Çã", hiragana: "„Å§„Åë„Çã" },
      { kanji: "Êéõ„Åë„Çã ", hiragana: "„Åã„Åë„Çã" }
    ],
    correct: 1
  },
  {
    text: "„ÅÇ„Åæ„ÅÑ„ÇÇ„ÅÆ„ÅØ ({target})  „Åß„Åô„ÄÇ",
  target: { kanji: "Ëã¶Êâã", hiragana: "„Å´„Åå„Å¶" },
  choices: [
      { kanji: "Ëã•Êâã", hiragana: "„Åò„ÇÅ„Åò„ÇÅ" },
      { kanji: "ËçâËã¶", hiragana: "„Åä„Åä„ÅÑ" },
      { kanji: "Ëã¶Êâã", hiragana: "„Å´„Åå„Å¶" }
    ],
    correct: 2
  },
  {
    text: "Êò®Êó•„ÅØÈõ®„ÅåÈôç„Çã„ÅÆ„Åß„ÅÇ„Åæ„Çä________",
    choices: [
      { kanji: "Èù¢ÁôΩ„Åè„Å™„Åã„Å£„Åü", hiragana: "„Åä„ÇÇ„Åó„Çç„Åè„Å™„Åã„Å£„Åü" },
      { kanji: "Èù¢ÁôΩ„Åè„Å™„Åã„Å£„Åü„Åß„Åô", hiragana: "„Åä„ÇÇ„Åó„Çç„Åè„Å™„Åã„Å£„Åü„Åß„Åô" },
      { kanji: "Èù¢ÁôΩ„ÅÑ ", hiragana: "„Åä„ÇÇ„Åó„Çç„ÅÑ" }
    ],
    correct: 1
  },
  {
    text: "ÊòéÊó•„ÅØ„ÅÑ„ÅÑ({target})„Åß„Åó„Çá„ÅÜ„ÄÇ",
   target: { kanji: "Â§©Ê∞ó", hiragana: "„Å¶„Çì„Åç" },
  choices: [
      { kanji: "Â§©Ê∞ó", hiragana: "„Å¶„Çì„Åç" },
      { kanji: "Ê∞óÂ§©", hiragana: "„Å¶„Çì„Åé" },
      { kanji: "ÈõªÊ∞ó", hiragana: "„Åß„Çì„Åé" }
    ],
    correct: 0
  }
    ,{
  image: "https://i.pinimg.com/736x/d6/e0/64/d6e064493ac58565eae347554de5a796.jpg",        // ‚¨ÖÔ∏è gambar
    choices: [
      { kanji: "È†≠", hiragana: "„ÅÇ„Åü„Åæ" },
      { kanji: "„ÅäËÖπ", hiragana: "„Åä„Å™„Åã" },
      { kanji: "‰Ωì ", hiragana: "„Åã„Çâ„Å†" }
    ],
    correct: 1
  },
  {
    text: "________„Åã„Çå„ÅÆ„Åï„ÅÑ„Åµ„ÅØÊ≠©„ÅÑ„Å¶„ÅÑ„Çã„Å®„Åç„Å´Âèñ„Çâ„Çå„Åü„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ",
    choices: [
      { kanji: "„ÇÇ„Åó„Åã„Åó„Åü„Çâ", hiragana: "„ÇÇ„Åó„Åã„Åó„Åü„Çâ" },
      { kanji: "„Åã„Å™„Çâ„Åö", hiragana: "„Åã„Å™„Çâ„Åö" },
      { kanji: "„Åß„Åç„Çå„Å∞", hiragana: "„Åß„Åç„Çå„Å∞" }
    ],
    correct: 0
  },
  {
    text: "„Åç„Å£„Å®______„Åì„Å®„Åå„Åß„Åç„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ",
    choices: [
      { kanji: "„ÉÜ„Éº„Éñ„É´", hiragana: "„ÉÜ„Éº„Éñ„É´" },
      { kanji: "„Åø„Å§„Åë„Çã", hiragana: "„Åø„Å§„Åë„Çã" },
      { kanji: "Èñì„Å´Âêà„Çè„Åõ„Çã", hiragana: "Èñì„Å´Âêà„Çè„Åõ„Çã" }
    ],
    correct: 1
  },
  {
    text: "ÊòéÊó•„ÅØ({target})„Çí„Åø„Å´„Åç„Åæ„Åõ„Çì„Åã",
   target: { kanji: "Êò†Áîª", hiragana: "„Åà„ÅÑ„Åå" },
  choices: [
      { kanji: "Êò†Áîª", hiragana: "„Åà„ÅÑ„Åå" },
      { kanji: "ÁîªÊò†", hiragana: "„Åå„Å£„Åã" },
      { kanji: "Ëã±Ë™û", hiragana: "„Åà„ÅÑ„Åî" }
    ],
    correct: 0
  },
    {
    text: "„ÅÇ„Åù„ÅÑ„Å†„ÅÇ„Å®„Åß, „Ç∑„É£„ÉØ„Éº„Çí________"  ,
   target: { kanji: "Êµ¥„Å≥„Åæ„Åô", hiragana: "„ÅÇ„Å≥„Åæ„Åô" },
  choices: [
      { kanji: "Êµ¥„Å≥„Åæ„Åô", hiragana: "„ÅÇ„Å≥„Åæ„Åô" },
      { kanji: "‰πó„Çä„Åæ„Åô", hiragana: "„ÅÆ„Çä„Åæ„Åô" },
      { kanji: "Ë°å„Åç„Åæ„Åô", hiragana: "„Åç„Åæ„Åô" }
    ],
    correct: 0
  },
      {
    text: "‰ªä„ÅØ({target})„Å´„ÅÑ„Åæ„Åô"  ,
   target: { kanji: "Âõ≥Êõ∏È§®", hiragana: "„Å®„Åó„Çá„Åã„Çì" },
  choices: [
      { kanji: "Âõ≥Êõ∏È§®", hiragana: "„Å®„Åó„Çá„Åã„Çì" },
      { kanji: "Â≠¶Ê†°", hiragana: "„Åå„Å£„Åì„ÅÜ" },
      { kanji: "ÂÆ∂", hiragana: "„ÅÑ„Åà" }
    ],
    correct: 0
  },
  {
    text: "({target})",
   target: { kanji: "ÈÅã„Çì„Åß", hiragana: "„ÅØ„Åì„Çì„Åß" },
  choices: [
      { kanji: "ÈÅã„Çì„Åß", hiragana: "„ÅØ„Åì„Çì„Åß" },
      { kanji: "„Çà„Åã„Å£„Åü", hiragana: "„Çà„Åã„Å£„Åü" },
      { kanji: "„ÅØ„Åì„Çì„Åß", hiragana: "„ÅØ„Åì„Çì„Åß" }
    ],
    correct: 1
  }
],
scri: [
  {
    text:
    "A: „ÅÇ„Å™„Åü„ÅÆ„Åó„ÇÖ„Åø„ÅØ„Å™„Çì„Åß„Åô„Åã\n" +
    "B: „Åª„Çì„Çí„Çà„ÇÄ„Åì„Å®„Åß„Åô\n" +
    "A: „Å©„Çì„Å™Êú¨„Åß„Åô„Åã\n" +
    "B: ______ Ê≠¥Âè≤„ÅÆÊú¨„Åß„Åô",
    choices: [
      { kanji: "Áâπ„Å´", hiragana: "„Å®„Åè„Å´" },
      { kanji: "Á¢∫„Åã„Å´", hiragana: "„Åü„Åó„Åã„Å´" },
      { kanji: "ÂÖ∂„ÅÆÂÑò„Å´", hiragana: "„Åù„ÅÆ„Åæ„Åæ„Å´" }
    ],
    correct: 0
  }
      ,{
  image: "https://i.pinimg.com/1200x/51/dc/b3/51dcb364663c61ad4866315ad36820b4.jpg",        // ‚¨ÖÔ∏è gambar
    choices: [
      { kanji: "Â§ö„ÅÑ„Åô„Åé", hiragana: "„Åä„Åä„ÅÑ„Åô„Åé" },
      { kanji: "Â§ö„Åä„ÅÑ„Åô„Åé", hiragana: "„Åä„Åä„Åô„Åé" },
      { kanji: "Â§ö„Åô„Åé", hiragana: "„Åä„Åô„Åé" }
    ],
    correct: 1
  },
  {
    text: "‰∫àÂÆö„ÅÑ„ÅÆ„Åª„Åã„ÅÆ„Å≤„Å®„Åå_________",
    choices: [
      { kanji: "„ÅäÁü•„Çâ„Åõ„Åô„Çã„Åü„ÇÅ„Å´", hiragana: "„Åä„Åó„Çâ„Åõ„Çã„Åü„ÇÅ„Å´" },
      { kanji: "„ÅäÁü•„Çâ„Åõ", hiragana: "„Åä„Åó„Çâ„Åõ" },
      { kanji: "Áü•„Çå„Å∞", hiragana: "„Åä„Åó„Çå„Å∞" }
    ],
    correct: 0
  },
  {
    text: "„Åì„Çå„ÅØ„Éê„Éä„Éä„ÅÆ________, „Å©„ÅÜ„Åû„ÄÇ",
    choices: [
      { kanji: "ÊñôÁêÜ„Åß„Åó„Åü", hiragana: "„Çä„Çá„ÅÜ„Çä„Åß„Åó„Åü" },
      { kanji: "ÊñôÁêÜ„Åß„Åô", hiragana: "„Çä„Çá„ÅÜ„Çä„Åß„Åô" },
      { kanji: "ÊñôÁêÜ„Åó„Åæ„Åô", hiragana: "„Çä„Çá„ÅÜ„Çä„Åæ„Åô" }
    ],
    correct: 2
  },
  {
    text:
    "A: „ÇÅ„Çä„Åï„Çì„ÄÅ„ÅÑ„Åπ„Çì„Å®„ÅÆ„Çà„Å¶„ÅÑ„Åå„Åã„Çè„Å£„Åü„Åì„Å®„Çí„Åó„Å£„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü\n" +
    "B: „Å∏„Åà„ÄÅ„Åã„Çè„Å£„Åü„Çì„Åß„Åô„ÅãÔºü„Éº„Éº„Åó„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ\n" +
    "A: „Åò„ÇÉ„ÅÇ„ÄÅ„Çà„Å¶„ÅÑ„ÅÆ„Åª„Åã„ÅÆ„Å≤„Å®„Å´„ÄÇ„ÄÇ„ÄÇ„Åü„ÇÅ„Å´„ÄÇ„Åì„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí„Å§„Åü„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n" +
    "B: „ÅØ„ÅÑ„ÄÅ„Çè„Åã„Çä„Åæ„Åó„Åü„ÄÇ",
    choices: [
      { kanji: "„Åä‰∏ñË©±„Å´„Å™„Çã", hiragana: "„Åä„Åõ„Çè„Å´„Å™„Çã" },
      { kanji: "„ÅäÁü•„Çâ„Åõ„Çã", hiragana: "„Åä„Åó„Çâ„Åõ„Çã" },
      { kanji: "ÈÄÅ„Çã", hiragana: "„Åä„Åè„Çã" }
    ],
    correct: 1
  },
  {
    text: "A: „Åô„Åø„Åæ„Åõ„Çì, „Åì„Åì„ÅØ_________ ?? \n" +
    "B: Êù±‰∫¨„Åß„Åô",
    choices: [
      { kanji: "„ÅÑ„Å§„Åß„Åô„Åã", hiragana: "„ÅÑ„Å§„Åß„Åô„Åã" },
      { kanji: "‰Ωï„Åß„Åô„Åã", hiragana: "„Å™„Çì„Åß„Åô„Åã" },
      { kanji: "„Å©„Åì„Åß„Åô„Åã", hiragana: "„Å©„Åì„Åß„Åô„Åã" }
    ],
    correct: 2
  },
  {
    text: "„Ç¢„Éã„Åï„Çì„ÅØ____________?, \n" +
    "„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô",
    choices: [
      { kanji: "ÁµêÂ©ö ", hiragana: "„Åë„Å£„Åì„Çì" },
      { kanji: "ÁµêÂ©ö„Åô„Çã„Çà„ÅÜ„Å´", hiragana: "„Åë„Å£„Åì„Çì„Åô„Çã„Çà„ÅÜ„Å´" },
      { kanji: "ÁµêÂ©ö„Åó„Åü„Åù„ÅÜ„Åß„Åô", hiragana: "„Åë„Å£„Åì„Çì„Åó„Åü„Åù„ÅÜ„Åß„Åô" }
    ],
    correct: 2
  },
  {
    text: "A: „Åä„Åç„ÇÉ„Åè„Åï„Åæ„ÅØ„Å©„Çì„Å™„Åï„ÅÑ„Åæ„Åô„Åã \n" +
    "B: „Ç∏„É•„Éº„Çπ________???",
    choices: [
      { kanji: "„Åó„Å¶„ÇÇ„Çâ„Åà„Åæ„Åõ„Çì„Åã", hiragana: "„Åó„Å¶„ÇÇ„Çâ„Åà„Åæ„Åõ„Çì„Åã" },
      { kanji: "„Åó„Å¶„ÅÑ„Åæ„Åô", hiragana: "„Åó„Å¶„ÅÑ„Åæ„Åô" },
      { kanji: "„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô", hiragana: "„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô" }
    ],
    correct: 2
  },
  {
    text: "A: „ÅÑ„Å§„ÅÑ„Åó„Çá„Å´„Çµ„ÉÉ„Ç´„Éº„Çí„Åó„Åæ„Åô„Åã \n" +
    "B: „Åì„Çå„Åã„Çâ________???",
    choices: [
      { kanji: "„Å©„ÅÜ„Åó„Åæ„Åô„Åã", hiragana: "„Å©„ÅÜ„Åó„Åæ„Åô„Åã" },
      { kanji: "„Å©„ÅÜ„Åó„Åü„Çì„Åß„Åô„Åã", hiragana: "„Å©„ÅÜ„Åó„Åü„Çì„Åß„Åô„Åã" },
      { kanji: "„Å©„ÅÜ„Åß„Åô„Åã", hiragana: "„Å©„ÅÜ„Åß„Åô„Åã" }
    ],
    correct: 1
  },
  {
    text: "({target})„ÅÆ„Ç§„Éô„É≥„Éà„ÅØ„ÅÇ„Åæ„Çä„ÄÇ",
   target: { kanji: "Êò®Êó•", hiragana: "„Åç„ÅÆ„ÅÜ" },
  choices: [
      { kanji: "Èù¢ÁôΩ„Åè„Å™„Åã„Å£„Åü", hiragana: "„Åä„ÇÇ„Åó„Çç„Åè„Å™„Åã„Å£„Åü" },
      { kanji: "Èù¢ÁôΩ„Åè„Å™„ÅÑ", hiragana: "„Åä„ÇÇ„Åó„Çç„Åè„Å™„ÅÑ" },
      { kanji: "Èù¢ÁôΩ„ÅÑ", hiragana: "„Åä„ÇÇ„Åó„Çç„ÅÑ" }
    ],
    correct: 0
  },
  {
    text: "‰ªï‰∫ã „Çí „ÄÇ„ÄÇ„ÄÇ„ÄÇ",
    choices: [
      { kanji: "‰ºë„Çì„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„Åã?", hiragana: "„ÇÑ„Åô„Çì„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„Åã?" },
      { kanji: "‰ΩïÂá¶", hiragana: "„Å©„Åì„Åß„Åô„Åã" },
      { kanji: "‰ºë„Åø", hiragana: "„ÇÑ„Åô„Åø" }
    ],
    correct: 2
  }
],

  co: [
{
  text: "Êó•„Å´„Åª„Çì„Åî Êú¨Ë™û„Åå„Çè„Åã„Çâ„Å™„ÅÑ„Å®„Åç„ÄÅ„Å©„ÅÜË®Ä„ÅÑ„ÅÑ„Åæ„Åó„Åü„Åã„ÄÇ",
  audio: "https://www.irodori.jpf.go.jp/assets/data/starter/audio/02/X_[02-01]_kiku1.mp3",      // ‚¨ÖÔ∏è suara
    choices: [
      { kanji: "„Çà„ÅèÂàÜ„Åã„Çä„Åæ„Åõ„Çì", hiragana: "„Çà„Åè„Çè„Åã„Çä„Åæ„Åõ„Çì" },
      { kanji: "ÂàÜ„Åã„Çä„Åæ„Åó„Åü", hiragana: "„Çè„Åã„Çä„Åæ„Åó„Åü" },
      { kanji: "„Åñ„ÅÑ„Çä„ÇÖ„ÅÜ„Ç´„Éº„Éâ", hiragana: "„Ç∂„Ç§„É™„É•„Ç¶ „Ç´„Éº„Éâ" }
    ],
  correct: 0
},
{
  text: "	„Éë„Ç¶„É≠„Åï„Çì„ÅØ„ÄÅ‰Ωï„Å™„Çì„ÅòÊôÇ„Å´Ëµ∑„Åä„Åç„Åæ„Åô„Åã„ÄÇ",
  audio: "https://www.irodori.jpf.go.jp/assets/data/starter/audio/09/X_[09-05]_kiku3.mp3",      // ‚¨ÖÔ∏è suara
    choices: [
      { kanji: "8ÊôÇ„Åò„Åî„ÇçËµ∑„Åä„Åç„Åæ„Åô„ÄÇ", hiragana: "„ÅØ„Å°„Åò„Åî„Çç„Åä„Åç„Åæ„Åô" },
      { kanji: "2ÊôÇ„Åò„Å´Ëµ∑„Åä„Åç„Åæ„Åô", hiragana: "„Å´„Åò„Å´„Åä„Åç„Åæ„Åô" },
      { kanji: "8ÊôÇ„Åò„Åî„ÇçÂØù„Å≠„Åæ„Åô„ÄÇ", hiragana: "„ÅØ„Å°„Åò„Åî„Çç„Å≠„Åæ„Åô" }
    ],
  correct: 0
},
{
  text: "	‰Ωï„Å™„Å´„ÇíÊ≥®„Å°„ÇÖ„ÅÜ„ÇÇ„ÇìÊñá„Åó„Åü„ÅÑ„Åß„Åô„Åã„ÄÇ",
  audio: "https://www.irodori.jpf.go.jp/assets/data/starter/audio/06/X_[06-02]_kiku2.mp3",      // ‚¨ÖÔ∏è suara
    choices: [
      { kanji: "„ÉÅ„Éº„Ç∫„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„Ç£„ÉÉ„Ç∑„É•„Éê„Éº„Ç¨„Éº", hiragana: "„ÉÅ„Éº„Ç∫„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„Ç£„ÉÉ„Ç∑„É•„Éê„Éº„Ç¨„Éº" },
      { kanji: "„ÉÅ„Éº„Ç∫„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„É©„Ç§„Éâ„Éù„ÉÜ„Éà„Éê„Éº„Ç¨„Éº", hiragana: "„ÉÅ„Éº„Ç∫„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„É©„Ç§„Éâ„Éù„ÉÜ„Éà„Éê„Éº„Ç¨„Éº" },
      { kanji: "„Éè„É≥„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„Ç£„ÉÉ„Ç∑„É•„Éê„Éº„Ç¨„Éº", hiragana: "„Éè„É≥„Éê„Éº„Ç¨„Éº,„Å¶„Çä„ÇÑ„Åç„Éê„Éº„Ç¨„Éº,„Éï„Ç£„ÉÉ„Ç∑„É•„Éê„Éº„Ç¨„Éº" }
    ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-nanami-7-2026-02-13t08-51-56-744z_y9CQUMRS.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/f8/2b/95/f82b9571350bbf74ad38f8816186c7df.jpg", hiragana: "„Çµ„ÉÉ„Ç´„Éº„Çí „Åô„Çã" },
    { img: "https://i.pinimg.com/1200x/2c/45/bd/2c45bdac6ce0841e6290276e2efd7da5.jpg", hiragana: "„Å´„Å£„Åç„Çí „Åã„Åè" },
    { img: "https://i.pinimg.com/736x/b5/f2/f3/b5f2f35b207b78ee6ba34a9aef63b3e3.jpg", hiragana: "„Åô„ÅÑ„Åà„ÅÑ„Çí „Åô„Çã" },
  ],
  correct: 0
},
{
    audio: "https://www.irodori.jpf.go.jp/assets/data/starter/audio/15/X_[15-12]_kiku1.mp3",      // ‚¨ÖÔ∏è suara
  text: "„Éâ„É©„Ç§„É§„Éº„ÅØ„ÄÅ„Å©„Åì„Å´„ÅÇ„Çä„Åæ„Åô„Åã„ÄÇ",
choices: [
  { img: "Screenshot 2026-02-12 181019.png", label: "A" },
  { img: "Screenshot 2026-02-12 181046.png", label: "B" },
  { img: "img/c.png", label: "C" },
],
correct: 2
},
{
  text: "	„Å©„Çì„Å™Â§©„Å¶„Çì„ÅçÊ∞ó„Åß„Åô„Åã„ÄÇ",
  audio: "https://www.irodori.jpf.go.jp/assets/data/elementary01/audio/04/Y_[04-04]_kiku2.mp3",      // ‚¨ÖÔ∏è suara
    choices: [
      { kanji: "Êô¥„ÇåÔºèÊô¥„Çå„ÇãÔºè„ÅÑ„ÅÑÂ§©Ê∞ó", hiragana: "„ÅØ„ÇåÔºè„ÅØ„Çå„ÇãÔºè„ÅÑ„ÅÑ„Å¶„Çì„Åç" },
      { kanji: "Èõ®„ÅÇ„ÇÅÔºèÈõ®„ÅÇ„ÇÅ„ÅåÈôç„Åµ„Çã", hiragana: "„ÅÇ„ÇÅÔºè„ÅÇ„ÇÅ„Åå„Åµ„Çã" },
      { kanji: "È¢®„Åã„ÅúÔºèÈ¢®„Åã„Åú„ÅåÂêπ„Åµ„Åè", hiragana: "„Åã„ÅúÔºè„Åã„Åú„Åå„Åµ„Åè" }
    ],
  correct: 1
}
  ],

  list: [
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-nanami-7-2026-02-13t08-51-56-744z_y9CQUMRS.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/f8/2b/95/f82b9571350bbf74ad38f8816186c7df.jpg", hiragana: "„Åï„Å£„Åã„Éº„Çí „Åô„Çã" },
    { img: "https://i.pinimg.com/1200x/2c/45/bd/2c45bdac6ce0841e6290276e2efd7da5.jpg", hiragana: "„Å´„Å£„Åç„Çí „Åã„Åè" },
    { img: "https://i.pinimg.com/736x/b5/f2/f3/b5f2f35b207b78ee6ba34a9aef63b3e3.jpg", hiragana: "„Åô„ÅÑ„Åà„ÅÑ„Çí „Åô„Çã" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-hyunsu-japanese-7-2026-02-13t10-06-08-375z_LDYmd6Z3.mp3",
    choices: [
      { kanji: "„ÅÇ„Åç„Çâ-„Åï„Çì", hiragana: "„ÅÇ„Åç„Çâ-„Åï„Çì" },
      { kanji: "„Åø„Åã-„Åï„Çì", hiragana: "„Åø„Åã-„Åï„Çì" },
      { kanji: "„Åü„Çç„ÅÜ-„Åï„Çì", hiragana: "„Åü„Çç„ÅÜ-„Åï„Çì" }
    ],
  correct: 1
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-keita-2-2026-02-13t15-11-15-117z_x8kPtM2q.mp3",
    choices: [
      { kanji: "‰ºöË≠∞ÂÆ§", hiragana: "„Åã„ÅÑ„Åé„Åó„Å§" },
      { kanji: "„É≠„Éì„Éº", hiragana: "„É≠„Éì„Éº" },
      { kanji: "Âèó‰ªò", hiragana: "„ÅÜ„Åë„Å§„Åë" }
    ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-nanami-6-2026-02-13t15-23-15-953z_DSbjAjUC.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/ee/93/54/ee9354e3cc1f86b258ea55d4b5bd0059.jpg", hiragana: "„Åã„ÅÑ„Åó„ÇÉ" },
    { img: "https://i.pinimg.com/736x/d3/20/df/d320dfb312273ea98f608771e224b132.jpg", hiragana: "„Ç´„Éï„Çß" },
    { img: "https://i.pinimg.com/736x/82/b7/a6/82b7a67994bc19b0c742eb50270382eb.jpg", hiragana: "„É¨„Çπ„Éà„É©„É≥" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-emma-japanese-5-2026-02-13t13-37-10-158z_Y0pfXwbu.mp3",
    choices: [
      { kanji: "250ÂÜÜ", hiragana: "„Å´„Å≤„ÇÉ„Åè„Åî„Åò„ÇÖ„ÅÜ„Åà„Çì" },
      { kanji: "500ÂÜÜ", hiragana: "„Åî„Å≤„ÇÉ„Åè„Åà„Çì" },
      { kanji: "100ÂÜÜ", hiragana: "„Å≤„ÇÉ„Åè„Åà„Çì" }
    ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-emma-japanese-6-2026-02-13t14-40-12-606z_Cl77TMYT.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/ef/21/38/ef2138e1b56c57697986f8859f4075e6.jpg", hiragana: "„Çä„Çì„Åî" },
    { img: "https://i.pinimg.com/1200x/24/0c/80/240c8038f9749f24da78544ecbcaa825.jpg", hiragana: "„Éê„Éä„Éä" },
    { img: "https://i.pinimg.com/736x/95/9c/3e/959c3e1df5d02a5064e77580ba90734a.jpg", hiragana: "„ÅÑ„Å°„Åî" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-andrew-japanese-5-2026-02-13t15-03-02-237z_AO4WJ6Uq.mp3",
    choices: [
      { kanji: "‰∏ÄÁôΩ„ÅÑ„ÄÅ‰∏ÄËµ§„ÅÑ", hiragana: "„ÅÑ„Å°„Åó„Çç„ÅÑ„ÄÅ„ÅÑ„Å°„ÅÇ„Åã„ÅÑ" },
      { kanji: "‰∫åÁôΩ„ÅÑ„ÄÅ‰∏ÄËµ§„ÅÑ", hiragana: "„Å´„Åó„Çç„ÅÑ„ÄÅ„ÅÑ„Å°„ÅÇ„Åã„ÅÑ" },
      { kanji: "‰∏ÄÁôΩ„ÅÑ„ÄÅ‰∫åËµ§„ÅÑ", hiragana: "„ÅÑ„Å°„Åó„Çç„ÅÑ„ÄÅ„Å´„ÅÇ„Åã„ÅÑ" }
    ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-keita-6-2026-02-13t14-25-59-971z_7KQgFgBM.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/38/81/59/388159d66fefcd2b3e346f812a9b5bd3.jpg", hiragana: "„Åè„Å†„ÇÇ„ÅÆ„Çí„Å†„Åó„Åæ„Åô" },
    { img: "https://i.pinimg.com/736x/5f/3a/1f/5f3a1f91ee2b21fe35a40b8be3c1360c.jpg", hiragana: "„Åß„Çì„Åí„Çì„Çí„Åç„Çã " },
    { img: "https://i.pinimg.com/1200x/59/80/24/598024829b7840375336b24610ac367d.jpg", hiragana: "„Åè„Å†„ÇÇ„ÅÆ„Çí „Åô„Å¶„Åæ„Åô" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-hyunsu-japanese-6-2026-02-13t10-36-33-199z_5HR7lT9i.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/0d/cc/59/0dcc5941801725922375789ef321aabe.jpg", hiragana: "„Åï„Å£„Åã„Éº„Çí „Åô„Çã" },
    { img: "https://i.pinimg.com/1200x/a7/ce/18/a7ce1842a967cefc6702cfdfe47b8fe7.jpg", hiragana: "„Å´„Å£„Åç„Çí „Åã„Åè" },
    { img: "https://i.pinimg.com/1200x/4b/ec/1c/4bec1cdebb991b41398d7ed0e7553a97.jpg", hiragana: "„Åô„ÅÑ„Åà„ÅÑ„Çí „Åô„Çã" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-brian-japanese-6-2026-02-13t13-58-32-102z_RGEWIwXu.mp3",
    choices: [
      { kanji: "Ê∞¥ÊõúÊó•", hiragana: "„Åô„ÅÑ„Çà„ÅÜ„Å≥" },
      { kanji: "ÂúüÊõúÊó•", hiragana: "„Å©„Çà„ÅÜ„Å≥" },
      { kanji: "Êú®ÊõúÊó•", hiragana: "„ÇÇ„Åè„Çà„ÅÜ„Å≥" }
    ],
  correct: 1
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-keita-6-2026-02-13t12-36-51-996z_fpG1tVQg.mp3",
  choices: [
    { img: "https://i.pinimg.com/736x/e5/e2/d0/e5e2d0af5780cc0e9fad0af4ddb6c2d6.jpg", hiragana: "„ÅÇ„ÇÅ„Åß„ÇÇ „Åö„Å£„Å® „Å†„ÅÑ„Å≥„Çì„Åê„Çí „Åó„Åæ„Åó„Åü„ÄÇ" },
    { img: "https://i.pinimg.com/736x/8a/22/e4/8a22e48cbba5b05e8cd6935e8d149184.jpg", hiragana: "„Å†„ÅÑ„Å≥„Çì„Åê„Çí „Åó„Å¶„Åã„Çâ„ÄÅ„Åµ„Å≠„Å´ „ÅÆ„Çä„Åæ„Åó„Åü„ÄÇ" },
    { img: "https://i.pinimg.com/736x/37/6a/69/376a69dfd1ac45c27a16b4f944c48881.jpg", hiragana: "„Å†„ÅÑ„Å≥„Çì„Åê„ÅØ „Åó„Å™„ÅÑ„Åß„ÄÅ„Åö„Å£„Å® „Åã„ÅÑ„ÇÇ„ÅÆ„Çí „Åó„Åæ„Åó„Åü„ÄÇ" },
  ],
  correct: 0
},
    {
  text: "Dengarkan baik-baik.",
  audio: "speechma-nanami-6-2026-02-13t09-21-18-727z_aohUEoeR.mp3",
    choices: [
      { kanji: "Êú∫„ÅÆ‰∏ä", hiragana: "„Å§„Åè„Åà„ÅÆ „ÅÜ„Åà" },
      { kanji: "Ê£ö", hiragana: "„Åü„Å™" },
      { kanji: "Âè∞ÊâÄ„ÅÆ‰∏ã", hiragana: "„Å†„ÅÑ„Å©„Åì„Çç„ÅÆ „Åó„Åü" }
    ],
      correct: 1
    }
  ],

  rea: [
    {
  text: "„Åì„Çå„ÅØ „Å™„Çì „Åß„Åô„Åã„ÄÇ",
  image: "img/apple.jpg",
  choices: ["„Çä„Çì„Åî", "„Åø„Åã„Çì", "„Å∞„Å™„Å™", "„Å∂„Å©„ÅÜ"],
  correct: 1
},
    {
      text: "„Åì„Çì„Å∞„Çì ______„ÄÇ",
      choices: ["„ÅØ", "„Çí", "„Å´", "„Åß"],
      correct: 1
    }
  ]
};
// üîÄ ACAK SOAL + PILIHAN JAWABAN (SEKALI SAJA)
for (let key in sections) {
  shuffleArray(sections[key]);       // acak urutan soal

  sections[key].forEach(q => {
    shuffleChoices(q);               // üî• acak pilihan jawaban
  });
}
let currentSection = "gra";
let currentQuestion = 0;
// simpan jawaban user
let answered = {
  gra: new Array(sections.gra.length).fill(null),
  scri: new Array(sections.scri.length).fill(null),
  co: new Array(sections.co.length).fill(null),
  list: new Array(sections.list.length).fill(null),
  rea: new Array(sections.rea.length).fill(null)
};

let totalScore = 0;              // ‚úÖ global
const POINT_PER_QUESTION = 10;   // ‚úÖ global

function goToSection(sectionKey) {
  if (currentSection === sectionKey) return; // ‚õî stop

  currentSection = sectionKey;
  currentQuestion = 0;

  if (!answered[sectionKey].length) {
    answered[sectionKey] =
      new Array(sections[sectionKey].length).fill(null);
  }

  document.getElementById("intro").classList.remove("active");
document.body.classList.remove("pre-start");
document.body.classList.add("quiz-mode");
  document.getElementById("quiz").classList.add("active");

  startTimer();
  renderSteps();
  loadQuestion();
  updateSideProgress();
}

  // üëâ pindah soal berdasarkan nomor step
function goToQuestion(index) {
  currentQuestion = index;

  document.getElementById("intro").classList.remove("active");
  document.getElementById("quiz").classList.add("active");

  loadQuestion();
  renderSteps();
}

function loadQuestion() {
  const q = sections[currentSection][currentQuestion];

  document.getElementById("qNumber").textContent =
    `Question ${currentQuestion + 1} / ${sections[currentSection].length}`;

const questionText = document.getElementById("questionText");
questionText.textContent = renderQuestionText(q);
questionText.style.whiteSpace = "pre-line"; // üî• INI KUNCINYA

  document.getElementById("examSection").textContent =
    currentSection.toUpperCase();

  document.getElementById("examProgress").textContent =
    `Question ${currentQuestion + 1} / ${sections[currentSection].length}`;


  // ===== IMAGE =====
  const imageBox = document.getElementById("imageContainer");
  imageBox.innerHTML = "";
  // ===== FIX EMPTY IMAGE SPACE (MOBILE ONLY) =====
const container = document.querySelector(".container");

// reset dulu
container.classList.remove("no-image-question");

if (!q.image) {
  container.classList.add("no-image-question");
}
  if (q.image) {
    const img = document.createElement("img");
    img.src = q.image;
    imageBox.appendChild(img);
  }

// ===== AUDIO =====
const audioBox = document.getElementById("audioContainer");
audioBox.innerHTML = "";

if (q.audio) {
  const qIndex = currentQuestion;

  // init kalau belum ada
  if (audioPlaysPerQuestion[qIndex] === undefined) {
    audioPlaysPerQuestion[qIndex] = 0;
  }

  // üîí kalau soal ini sudah habis jatahnya
  if (audioPlaysPerQuestion[qIndex] >= MAX_AUDIO_PLAY) {
    audioBox.innerHTML = `
      <div style="color:#888;font-size:12px;opacity:.6">
        Audio sudah diputar 2x
      </div>
    `;
    return;
  }

const audio = document.createElement("audio");
audio.src = q.audio;
audio.controls = true;
audio.preload = "auto";
audio.controlsList = "nodownload noplaybackrate";
audio.disableRemotePlayback = true;

let lastTime = 0;

// üö´ cegah seek manual (iOS & Android)
audio.addEventListener("seeking", () => {
  if (audioLocked) {
    audio.currentTime = lastTime;
  }
});

// simpan waktu normal
audio.addEventListener("timeupdate", () => {
  lastTime = audio.currentTime;
});

// ‚úÖ HITUNG PLAY
audio.addEventListener("play", () => {

  if (!audioPlaysPerQuestion[currentQuestion]) {
    audioPlaysPerQuestion[currentQuestion] = 0;
  }

  audioPlaysPerQuestion[currentQuestion]++;

  // üî• LOCK SETELAH 2x
  if (audioPlaysPerQuestion[currentQuestion] >= MAX_AUDIO_PLAY) {
    audioLocked = true;
  }

});

  audioBox.appendChild(audio);
}

  // ===== CHOICES =====
const choicesEl = document.getElementById("choices");
choicesEl.innerHTML = "";

/* üî• RESET CLASS */
choicesEl.className = "choices";

/* üî• CEK APAKAH PILIHAN GAMBAR */
if (
  q.choices &&
  typeof q.choices[0] === "object" &&
  (q.choices[0].img || q.choices[0].jp)
) {
  choicesEl.className = "choices image-grid";
}

q.choices.forEach((choice, i) => {
  const btn = document.createElement("button");
  btn.onclick = () => checkAnswer(i);

  // üîπ PILIHAN DENGAN GAMBAR
// üîπ JAWABAN GAMBAR
if (typeof choice === "object" && (choice.img || choice.jp)) {

  // 1. bikin kotak gambar
  const box = document.createElement("div");
  box.className = "choice-img-box";

  // 2. bikin elemen <img>
  const img = document.createElement("img");
img.src = choice.img || choice.jp;
  img.alt = "choice image";

  // 3. masukin img ke kotak
  box.appendChild(img);

  // 4. masukin kotak ke tombol
  btn.appendChild(box);

  // 5. label (A, B, C, D)
  if (choice.label) {
    const label = document.createElement("div");
    label.className = "choice-label";
    label.textContent = choice.label;
    btn.appendChild(label);
  }
}

  // üîπ PILIHAN TEKS BIASA
  else {
    btn.textContent = choice;
  }

  choicesEl.appendChild(btn);
});

const saved = answered[currentSection][currentQuestion];
if (saved !== null) {
  const buttons = document.querySelectorAll("#choices button");
  buttons[saved].classList.add("selected");
}
  document.getElementById("result").textContent = "";
}

function checkAnswer(choice) {

  const q = sections[currentSection][currentQuestion];
  const previous = answered[currentSection][currentQuestion];

  // kurangi skor jika sebelumnya benar
  if (previous === q.correct) {
    totalScore -= POINT_PER_QUESTION;
  }

  // tambah skor jika sekarang benar
  if (choice === q.correct) {
    totalScore += POINT_PER_QUESTION;
  }

  answered[currentSection][currentQuestion] = choice;

  const buttons = document.querySelectorAll("#choices button");
  buttons.forEach(btn => btn.classList.remove("selected"));
  buttons[choice].classList.add("selected");

  updateSideProgress();
  renderSteps();

  if (checkAllFinished()) {
    showResult();
  }
}

function updateSideProgress() {

  let answeredCount = 0;
  let total = sections[currentSection].length;

  answered[currentSection].forEach(v => {
    if (v !== null) answeredCount++;
  });

  let percent = (answeredCount / total) * 100;
  const fill = document.getElementById(currentSection + "Progress");

  if (window.innerWidth <= 768) {
    fill.style.width = percent + "%";
    fill.style.height = "100%";
  } else {
    fill.style.height = percent + "%";
    fill.style.width = "100%";
  }
}


function nextQuestion() {
  if (currentQuestion < sections[currentSection].length - 1) {
    currentQuestion++;
    loadQuestion();
    renderSteps();
  }
}

function prevQuestion() {
  if (currentQuestion > 0) {
    currentQuestion--;
    loadQuestion();
    renderSteps();
  }
}

function goToIntro() {
  document.getElementById("intro").classList.add("active");
  document.getElementById("quiz").classList.remove("active");

  // matikan highlight step
  document.querySelectorAll(".step")
    .forEach(s => s.classList.remove("active"));
}

function renderSteps() {
  const stepColumn = document.getElementById("stepColumn");
  stepColumn.innerHTML = "";

  sections[currentSection].forEach((_, index) => {
    const step = document.createElement("div");
    step.className = "step";
    step.textContent = index + 1;

    if (answered[currentSection][index] !== null) {
  step.classList.add("answered");
}

    if (index === currentQuestion) {
      step.classList.add("active");
    }

    step.onclick = () => goToQuestion(index);

    stepColumn.appendChild(step);
  });
}
window.addEventListener("DOMContentLoaded", () => {

  // matikan semua screen
  document.querySelectorAll(".screen").forEach(s =>
    s.classList.remove("active")
  );

  // tampilkan menu dulu
  document.getElementById("menu").classList.add("active");

});
function checkAllFinished() {
  for (let key in sections) {
    if (answered[key].length === 0) return false;
    if (answered[key].includes(null)) return false;
  }
  return true;
}

function showResult() {

  // ===== HITUNG SKOR (TETAP) =====
  let totalCorrect = 0;
  let totalQuestions = 0;
  let sectionHTML = "";

  for (let key in sections) {
    let correct = 0;
    sections[key].forEach((q, i) => {
      if (answered[key][i] === q.correct) correct++;
    });

    let percent = Math.round((correct / sections[key].length) * 100);
    totalCorrect += correct;
    totalQuestions += sections[key].length;

    sectionHTML += `
      <div class="section-item">
        <span>${key.toUpperCase()}</span>
        <div class="percent-bar">
          <div class="percent-fill" style="width:${percent}%"></div>
        </div>
        <div class="percent-text">${percent}%</div>
      </div>
    `;
  }

  let maxScore = totalQuestions * POINT_PER_QUESTION;
  let totalPercent = Math.round((totalScore / maxScore) * 100);
  let score250 = Math.round((totalScore / maxScore) * 250);

  document.getElementById("totalScoreText").textContent =
    `Total Score: ${score250} points`;

  document.getElementById("scoreMarker").style.left =
    totalPercent + "%";

  document.getElementById("sectionScores").innerHTML =
    sectionHTML;

  // ===== üî• INI KUNCI UTAMA üî• =====
document.body.classList.add("pre-start");
document.getElementById("quiz").classList.remove("active");
document.getElementById("resultScreen").classList.add("active");
document.body.classList.add("result-mode");
}

// =============================
// ‚è± TIMER ANTI FREEZE MOBILE
// =============================
let duration = 30 * 60; // 30 menit
let endTime = 0;
let timerInterval = null;

function startTimer() {
  endTime = Date.now() + duration * 1000;

  updateTimer(); // render pertama langsung

  timerInterval = setInterval(updateTimer, 1000);
}

function updateTimer() {
  const now = Date.now();
  const remaining = Math.max(0, Math.floor((endTime - now) / 1000));

  const minutes = String(Math.floor(remaining / 60)).padStart(2, "0");
  const seconds = String(remaining % 60).padStart(2, "0");

  document.getElementById("timer").textContent = `${minutes}:${seconds}`;

  if (remaining <= 0) {
    clearInterval(timerInterval);
    finishExam();
  }
}

// sync saat balik ke tab (WAJIB untuk iOS)
document.addEventListener("visibilitychange", () => {
  if (!document.hidden) updateTimer();
});

// pause timer
function pauseTimer() {
  clearInterval(timerInterval);
  timerInterval = null;
}

// warna saat mepet
function updateTimerColor() {

  if (remainingTime <= 60) {
    timerEl.style.background = "#e53935";
  }
  else if (remainingTime <= 300) {
    timerEl.style.background = "#ff9800";
  }
}

// pindah tab ‚Üí pause
document.addEventListener("visibilitychange", () => {
  if (document.hidden) {
    pauseTimer();
  } else {
    startTimer();
  }
});

// auto submit
function finishExam() {

  localStorage.removeItem(TIMER_KEY);

  alert("Waktu habis!");
  showResultScreen(); // üî• pakai function kamu yang sudah ada
}

// init
function initTimer() {

  loadTimer();
  timerEl.textContent = formatTime(remainingTime);
  startTimer();
}
let selectedPackage = "";

function selectPackage(sectionKey) {

  currentSection = sectionKey;
  currentQuestion = 0;

  // üî• INI WAJIB
  document.body.classList.remove("pre-start");

  document.getElementById("menu").classList.remove("active");
  document.getElementById("quiz").classList.add("active");

  renderSteps();
  loadQuestion();
  updateSideProgress();
}
</script>


</body>
</html>
